function initPage(){mobileMenu(),scrollTo(),initPopup(),OnScroll()}function OnScroll(){if(window.hash){var i=0,o=$("#"+window.hash).offset().top;$("html, body").animate({scrollTop:o-i},1e3)}}function mobileMenu(){$("a.mobile-opener").click(function(i){i.preventDefault(),$("body").toggleClass("nav-visible"),$(this).toggleClass("visible")})}function scrollTo(){$(".anchor-links a").click(function(){var i=$(this).attr("href");return 0!=$(i).length&&$("html, body").animate({scrollTop:$(i).offset().top-10},500),!1}),$("a.slide-link").click(function(){var i=$(this).attr("href");return 0!=$(i).length&&$("html, body").animate({scrollTop:$(i).offset().top-10},500),!1})}function initPopup(){$("a[data-popup]").click(function(i){$(".popup").removeClass("visible"),i.preventDefault();var o=$(this).attr("data-popup"),t=$(document).height();$(".fader").css({height:t}),$(".fader").addClass("visible"),$("#"+o).addClass("visible"),positionPopup(),$("#"+o).height()>=$(window).height()?$("#"+o).css({top:$(window).scrollTop()}):$("#"+o).css({top:$(window).scrollTop()+$(window).height()/2,marginTop:-$("#"+o).height()/2})}),$(".popup-close").click(function(i){i.preventDefault(),$(".fader").removeClass("visible"),$(".popup").removeClass("visible")}),$(".fader").click(function(){$(this).removeClass("visible"),$(".popup").removeClass("visible")})}function positionPopup(){$(".popup.visible").width()<$(document).width()?$(".popup.visible").css({marginLeft:-$(".popup.visible").width()/2,left:"50%"}):$(".popup.visible").css({marginLeft:0,left:0})}$(window).resize(function(){positionPopup()}),$(document).ready(initPage),window.location.hash&&(window.hash=window.location.hash.substr(1),window.location.hash="");